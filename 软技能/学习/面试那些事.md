

# 面试
面试的核心，对于应聘者，是想方设法让面试官认可自己对职位有用的那些优点。

- 用真诚的态度，有效地表达自己的能力和价值，建立相互的信任和认可。
- 面试时双向选择，面试官想要个符合要求的，你也想要个自己能做得舒服或者能有成长的公司。
  - 我也不想找一个自己无法胜任，我也想找个匹配度较高，我也能更好的发挥自己能力的地方


## 知识点

1）关于操作系统：进程、线程、协程相关，例如三者的区别在哪里；gevent的基本调度？
（2）网络协议：TCP、UDP、QUIC、http以及https协议；例如TCP如何保证可靠性？UDP的使用场景？
- TCP丢包重传优化：设计TCP的初衷是优先保证数据传输的可靠性，丢包重传机制对TCP的传输性能影响较大（特别在网络环境较差时），算是TCP为保证可靠性做的性能妥协，可通过**使用UDP协议并在应用层重新设计丢包重传机制实现性能优化**，比如**QUIC**协议便采用了这种优化思路；

（3）数据库：MySQL、Redis，例如redis的持久优化方式？
（4）缓存分布式以及编程语言相关的知识：例如分布式锁的实现方式？Golang以及Java语言的区别？


基础知识的考察会**比较重视深度及广度**，可能会问很多细节，也可能会**结合具体场景**去提问，一定不要让面试官觉得您的基础知识缺失过多~


- 其次是关于过往**项目**的考察：这一块是**重点**。
  - 一定要尽量拿出**比较有难度跟亮点**的项目阐述，您最近也可以再梳理一下，尽量是**业务场景较为复杂**的，如果项目没有明显难度或是整体架构比较简单（没有**分布式**，基本是单机）的话就缺乏亮点跟竞争力。
  - 简历中**提到的基础组件的原理一定要深入了解**，**不能只了解使用层面**。


- 最后会考**一道到两道**算法题，算法题的话你最近再准备一下
  - 一般都是leetcode前100的题，或者是medium难度的，
  - 最重要的是**思路要快**，如果**完全没有思路代码实现不出来的话是不可以的**
  - 如果出现错误或者边界处理有些问题，但是经过面试官提示或者检查最终改正，也是ok的，不会太致命。


- 然后想强调的是，您对于过去的工作项目一定要**有落地及产出**，也要及时去**复盘技术方案哪里有缺陷**，可以**给出优化方案**，
- 对于工作一定要有**个人的理解与思考**，知道**业务的困难**在哪里，**关键数据指标**尽量都清楚，比如业务的目标在哪里，业务的收入来源是什么，需要提升哪些关键指标；
- **不要**让面试官觉得您只是**单纯的执行**角色或者做的事情都是**业务需求驱动**开发的，一定要**突出个人的潜力**，凸显**工程能力**跟**架构能力**。


**快速学习的能力**

### hr面
要从技术氛围，职业发展，公司潜力等等方面来说自己为什么选择这家公司

职业规划： 尽量从技术的角度规划自己。



## 项目介绍


## 软技能展示

### 沟通&团队精神
**沟通**： 沟通是指为了设定的目标，秉持合作共赢的理念，以他人愿意接受的方式，把信息、思想和情感在个人或群体间传递，并达成共同协议的过程。

合作利他


以他人愿意接受的方式沟通
```
你不能直接对一个程序员说：“你的代码有bug。”
他的第一反应是：“1、你的环境有问题；2、你的使用方法不对”
如果你委婉地说：“你这个程序和预期有些不一致，你看看是不是我的使用方法有问题。”
他会本能的想：“是不是出bug了？赶紧看看”
```



### 项目管理 & Owner意识
项目Owner
1. 关注目标需求：帮助产品优化需求，提升体验
2. 主导拆解任务： 尽量多check，防止功能遗漏
3. 主导制定需求实现方案： 评估工作量和项目风险，分配好工作
4. 制定项目计划： 根据工作量和项目依赖关系，制定项目计划
5. 关注计划执行：发现并控制变更，同步项目进展
6. 项目总结： 总结得失
7. 关注项目效果： 关注上线后项目数据和后续维护

### 主动学习、积极主动


### 质量意识

1. 需求阶段： 不要想当然，对于模糊边界和可能的异常情况，跟产品确认清楚，理解一致。多轮沟通
2. 方案设计阶段： 不要一上来就写代码，完整思考设计方案后，积极邀请大佬帮忙评审、完善方案，找问题，确保方案完备，避免返工
3. 编码测试阶段： 代码风格，代码质量
4. 发布阶段： 个人的和项目的checkList： 配置版本、镜像包版本
5. 运营阶段： 建立完善的监控体系、日志链路， 确保能快速发现问题、快速定位问题，尽量避免问题出现提前报警，出现问题也要比客户更早发现并修复。 


### 产品思维
- 用户价值、商业价值 vs 技术至上
- Why？  vs  How？
- 全局观 vs 关注细节
- 完成比完美更重要  vs  完美情节
- 想小白一样思考  vs   像专家一样思考
- 体验  vs   功能
- Benefit  vs  Feature

比如有些开发写的代码、文档、邮件格式等，更多站在自己的角度，怎么快怎么来，较少去考虑阅读者的用户体验。特别是一切长期的维护的项目，代码、文档阅读花的时间要远超过编写时间，如果体验不好，其实非常浪费自己和他人的时间。


* 为什么要做这个产品？核心是为了解决什么问题、痛点？
* 用户为什么要选择这个产品？相对其他产品有什么不一样？
* 用户是谁？他们有什么心理特征、社会特征、行为特征、认知特征？
* 用户是在什么情景下使用该产品？如何通过产品和用户建立连接？
* 如何提升用户体验？帮助用户快速达成目标





# 我的面试大纲

## 项目

### 难点

- 分布式事务？ 离线加载时异步的，没有事务控制？如何保证幂等？如何保证事务回滚？如何保证不重发？  设置状态码，zk，全局变量，挂机怎么办？ 是否还有优化空间？
- 

### 可优化的点？

- 根据业务场景，定制化构建索引： 不查的只存储


### 知识面扩展


#### solr vs es
- 返回计算后的字段，还能用该字段排序。 es使用脚本字段 script_field:{}
- null，不为空的筛选，写入时可以对null设置成“NULL”
- 大规模id返回
- es自动以token处理，分词，替换词，修改删除。 正则，表情符号变成想要的词
- 动态推断类型，可以通过设置比如字段名为is开头的都推断成boolean类型，或者字段为xx结尾的，都copy_to到一个新字段，用于检索，啥的
- es的精确匹配可以用每个字段默认有个keyword,好像不是默认，但是可以设置？  solr需要新建一个不分词的字段，专门用于精确匹配。

es Analyze的过程：char filter -》 tokenizer -》 token filter



solr如何解决分布式事务，更深入的了解？

不能仅停留在使用，还要有自己的探索

#### java跟go的区别





### 基础知识

#### 后端开发

消息中间件：Kafka

微服务： 微服务架构、微服务治理、服务网格

网络： 网络拓扑结构、路由协议、传输协议

#### Java
Java基础、多线程、集合、IO


**集合**：
HashMap 源码，数据结构，如何避免哈希冲突，对比 HashTable
HashMap 源码中，计算 hash 值为什么有一个 高 16 位 和 低 16 位异或的过程？
为什么重写 equals 还要重写 hashCode，不重写会有什么问题
ConcurrentHashMap 底层实现，扩容问题。

java hashmap、 为什么用红黑树、红黑树邻接点为啥是8 。


**JVM**
有 jvm 调优的经验吗？实际工作中遇到过内存相关的问题吗？用过哪些堆栈工具调试？
JVM的内存结构，Eden和Survivor比例


**GC**
- 更换GC的场景与问题
- Java常见的垃圾收集器
  - g1和cms区别,吞吐量优先和响应优先的垃圾收集器选择。


场景题： cpu 打满且频繁 full GC，怎么解决？


#### Spring
Spring怎么解决循环依赖的？
说下Spring IOC？
说下Spring Bean的生命周期？
说下Spring AOP？他的底层实现是什么？（动态代理）


**动态代理**


#### Go
1.逃逸分析？
2.Channel 是被分配在了栈上还是堆上？
3.defer的原理？
4.CPU核数为2时开多少个线程比较合适？

1.Go有哪些常见的并发原语？
2.Map是线程安全的吗？
3.如何设计一个线程安全的map？
4.SingleFlight 和 CyclicBarrier


#### 网络
1.Cookie的参数有哪些？
2.Cookie和session的对比？
3.什么是token？
4.传递token的过程中有什么安全性的问题？

http码 302 403 。
https 加密过程。
HTTP的长连接是什么意思。


#### 数据库

**索引**
Mysql 索引，数据结构为什么使用 B+ 树
索引覆盖了解吗？ 
索引失效的场景？ 联合索引，没有最左前缀匹配。
简单描述一下数据库的四种隔离级别以及对应的三种相关问题

MVCC + 锁 保证隔离性  
讲讲MySQL锁机制（共享锁、排他锁、行级锁、表级锁、意向锁、记录锁、间隙锁、next-key Lock）
redo log&undo log作用，什么时候生成
如何写redo log（redo log buffer等）
两段锁协议，分布式事务中两阶段提交


造成幻读的原因了解吗，快照读、当前读。
数据库自增 ID 和 UUID 对比

**redis**：


Redis分布式锁如何实现的
分布式锁还有哪些实现方案
Redis大Key，会引发哪些问题？
怎么解决大Key问题？拆
Redis怎么实现分布式锁？说了redission
redission那个不实用，有没有更简单的？
Redis的IO模型了解吗？（要说出关键点）
Redis是怎么解决线程安全问题的？
说下Redis的数据结构及其使用场景？
Redis作为缓存的话，说下如何保证数据一致性？（延迟双删、消息队列重试、基于binlog）
说下缓存击穿，如何解决？（设置热点数据永不过期、更新缓存时，加全局锁，保证只有一个走数据库）
分布式锁有哪些实现方式？


**查询优化**

- 数据量大，状态枚举值分布不均匀，不是直接group by，而是直接指定checkstatus=1 或者0，查。如果指导2最多，其他都很少，那就异步同事查总数，查1,0，最后相减即可。


#### 操作系统
操作系统虚存实现原理，交换，覆盖区别。


#### 分布式
拜占庭问题
一致性哈希
如何控制负载均衡

paxos算法
raft算法
z


#### 情景题
1.实现一个Word文档中的单词拼写检查功能？
2.字典树？前缀树、后缀树？
3.LRU？有什么优化？
4.Reids？跳表？

场景题：亿级别黑名单、短链接，你考虑使用什么数据结构？布隆过滤器、前缀树。其中布隆过滤器问了基本的原理和实现方式
